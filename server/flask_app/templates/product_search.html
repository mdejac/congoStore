{% extends "base_template.html" %}

{% block nav_option %}<li><a class="nav-link" href="/products">Home</a></li>{% endblock %}

{% block content %}
<h2> Search Results </h2>

<div class="scroll-wrapper">
  <h3>Name matches</h3>
  <div class="scroll-controls">
    <button class="scroll-button prev-button" onclick="scrollContainer('name', 'left')">&lt;</button>
    <div class="scroll-container" id="scroll-container-name">
      {% for product in all_products_in_name %}
        <div class="item">
          <img src="{{url_for('static', filename=product.img_url)}}" class="card-img-top" alt="{{ product.img_url }}">
          <div class="card-body">
            <a href="/products/view/{{ product.id }}">
              <h5 class="card-title">{{ product.name }}</h5>
            </a>
            <p class="card-text">{{ product.price }}</p>
            <p class="card-text">{{ product.name }}</p>
          </div>
        </div>
      {% endfor %}
    </div>
    <button class="scroll-button next-button" onclick="scrollContainer('name', 'right')">&gt;</button>
  </div>
</div>

<div class="scroll-wrapper">
  <h3>Category matches</h3>
  <div class="scroll-controls">
    <button class="scroll-button prev-button" onclick="scrollContainer('category', 'left')">&lt;</button>
    <div class="scroll-container" id="scroll-container-category">
      {% for product in all_products_in_category %}
        <div class="item">
          <img src="{{url_for('static', filename=product.img_url)}}" class="card-img-top" alt="{{ product.img_url }}">
          <div class="card-body">
            <a href="/products/view/{{ product.id }}">
              <h5 class="card-title">{{ product.name }}</h5>
            </a>
            <p class="card-text">{{ product.price }}</p>
            <p class="card-text">{{ product.description }}</p>
          </div>
        </div>
      {% endfor %}
    </div>
    <button class="scroll-button next-button" onclick="scrollContainer('category', 'right')">&gt;</button>
  </div>
</div>

<div class="scroll-wrapper">
  <h3>Description matches</h3>
  <div class="scroll-controls">
    <button class="scroll-button prev-button" onclick="scrollContainer('description', 'left')">&lt;</button>
    <div class="scroll-container" id="scroll-container-description">
      {% for product in all_products_in_description %}
        <div class="item">
          <img src="{{url_for('static', filename=product.img_url)}}" class="card-img-top" alt="{{ product.img_url }}">
          <div class="card-body">
            <a href="/products/view/{{ product.id }}">
              <h5 class="card-title">{{ product.name }}</h5>
            </a>
            <p class="card-text">{{ product.price }}</p>
            <p class="card-text">{{ product.description }}</p>
          </div>
        </div>
      {% endfor %}
    </div>
    <button class="scroll-button next-button" onclick="scrollContainer('description', 'right')">&gt;</button>
  </div>
</div>

<script>
  function scrollContainer(section, direction) {
    const container = document.getElementById(`scroll-container-${section}`);
    const scrollAmount = 300;
    if (direction === 'left') {
      container.scrollLeft -= scrollAmount;
    } else {
      container.scrollLeft += scrollAmount;
    }
  }
</script>

{% endblock %}